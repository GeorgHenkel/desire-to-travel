function initMap(){directionsService=new google.maps.DirectionsService,directionsDisplay=new google.maps.DirectionsRenderer,map=new google.maps.Map(document.getElementById("map"),{zoom:8,center:{lat:48.35712,lng:10.899147},streetViewControl:!1}),directionsDisplay.setMap(map);var o=mapsConfig.locations,e=mapsConfig.type;mapsConfig.locations.length>1&&"transit"===e?displayTrack(o):mapsConfig.locations.length>1&&"transit"!==e?displayRoute(o,e):displayMarker(o)}function displayTrack(o){var e=new google.maps.LatLngBounds(new google.maps.LatLng(o[o.length-1].lat,o[o.length-1].lng),new google.maps.LatLng(o[0].lat,o[0].lng));map.fitBounds(e);for(var n=null,t=null,a=0,l=o.length;a<l;a++){t=new google.maps.Marker({map:map,position:{lat:o[a].lat,lng:o[a].lng}});if(null!=n){var i=new google.maps.Polyline({strokeColor:"#CC0099",strokeOpacity:1,strokeWeight:3,geodesic:!0,map:map}),g=[n.getPosition(),t.getPosition()];i.setPath(g),window.console&&console.log("setting path from "+n.getPosition()+" to "+t.getPosition())}n=t}}function displayRoute(o,e){for(var n=[],t=1,a=o.length-1;t<a;t++)n.push({location:new google.maps.LatLng(o[t].lat,o[t].lng),stopover:!0});var l=null;"driving"==e?l=google.maps.TravelMode.DRIVING:"walking"==e&&(l=google.maps.TravelMode.WALKING),directionsService.route({origin:new google.maps.LatLng(o[0].lat,o[0].lng),destination:new google.maps.LatLng(o[o.length-1].lat,o[o.length-1].lng),waypoints:n,travelMode:l,unitSystem:google.maps.UnitSystem.METRIC},function(o,e){"OK"===e?directionsDisplay.setDirections(o):window.console&&console.log("Could not display directions due to: "+e)})}function displayMarker(o){map.setCenter(new google.maps.LatLng(o[0].lat,o[0].lng)),marker=new google.maps.Marker({map:map,position:new google.maps.LatLng(o[0].lat,o[0].lng),title:o[0].name,animation:google.maps.Animation.DROP});var e=new google.maps.LatLngBounds,n=new google.maps.LatLng({lat:marker.getPosition().lat()+.02,lng:marker.getPosition().lng()+.02});e.extend(n);var t=new google.maps.LatLng({lat:marker.getPosition().lat()-.02,lng:marker.getPosition().lng()-.02});e.extend(t),map.fitBounds(e)}var directionsService=null,directionsDisplay=null,map=null,marker=null;
